{"version":3,"file":"subPackages/pages/html/index.js","sources":["webpack:///./src/subPackages/pages/html/index.tsx","webpack:///./src/subPackages/pages/html/index.tsx?786c"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport Taro, { getCurrentInstance } from \"@tarojs/taro\";\r\nimport { fetch } from \"@ysyp/utils/dist/fetch\";\r\nimport { RichText, View } from \"@tarojs/components\";\r\nimport { addClassAndStyle } from \"@base/richtext/richtext-format\";\r\nimport '@base/richtext/richtext.scss';\r\n\r\n/**\r\n * DEMO4: /subPackages/pages/html/index?url=/pages/event/index\r\n */\r\nexport default class Index extends Component<any, any> {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: `<div style=\"position: absolute;\r\n      height: 100%;\r\n      width: 100%;\r\n      background: #fff;\r\n      padding-top: 40%;\r\n      text-align:center;\">加载中...</>`,\r\n    };\r\n  }\r\n  async componentWillMount() {\r\n    const { params: { url } } = getCurrentInstance().router || {};\r\n    if (url) {\r\n      const resultData = (await this.getData(url)) || [];\r\n      const { data = '', name = '' } = resultData[0] || {}\r\n      Taro.setNavigationBarTitle({ title: name })\r\n      this.setState({\r\n        data: data,\r\n      });\r\n    }\r\n  }\r\n  async getData(path) {\r\n    const { data } =\r\n      (await fetch({\r\n        url: \"/wechat/pages\",\r\n        method: \"GET\",\r\n        data: {\r\n          where: {\r\n            path,\r\n            wechat: {\r\n              id: Taro.getStorageSync(\"wechatId\"),\r\n            },\r\n          },\r\n        },\r\n      })) || {};\r\n    return data;\r\n  }\r\n  render() {\r\n    const { data } = this.state;\r\n    return (\r\n      <View className=\"rich-text\">\r\n        <RichText nodes={addClassAndStyle(data)}></RichText>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../../node_modules/babel-loader/lib/index.js!./index.tsx\"\nvar config = {\"enableShareAppMessage\":true,\"navigationBarTitleText\":\"\"};\n\ncomponent.enableShareAppMessage = true\nvar inst = Page(createPageConfig(component, 'subPackages/pages/html/index', {root:{cn:[]}}, config || {}))\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AAAA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AADA;AAFA;AAUA;AACA;;;;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAGA;AAHA;AAKA;AAAA;AAAA;AACA;AACA;AADA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;AAWA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AADA;AAHA;AACA;AAHA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AAAA;AACA;AAAA;AADA;AAIA;;;;AA9CA;AACA;;;;;;;;;;;;;;ACXA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}